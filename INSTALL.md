# インストール手順書

## 1. データベースの準備

### prefectureカラムの追加

既存の`wp_mama_gen`テーブルに`prefecture`カラムを追加します。

```sql
ALTER TABLE wp_mama_gen ADD COLUMN prefecture VARCHAR(50) DEFAULT NULL AFTER comment;
```

### データの更新（例）

女性データに都道府県情報を追加します:

```sql
-- 例: 東京都のデータを更新
UPDATE wp_mama_gen SET prefecture = '東京都' WHERE id = 1;

-- 例: 大阪府のデータを更新
UPDATE wp_mama_gen SET prefecture = '大阪府' WHERE id = 2;
```

## 2. テーマのアップロード

### 方法1: ZIP化してアップロード

1. `hurin`フォルダをZIP化
2. WordPress管理画面にログイン
3. 外観 > テーマ > 新規追加
4. 「テーマのアップロード」をクリック
5. ZIPファイルを選択してアップロード
6. 「有効化」をクリック

### 方法2: FTPで直接アップロード

1. FTPクライアントでサーバーに接続
2. `/wp-content/themes/`ディレクトリに移動
3. `hurin`フォルダをアップロード
4. WordPress管理画面 > 外観 > テーマ
5. 「不倫募集掲示板」テーマを有効化

## 3. パーマリンク設定の更新

テーマ有効化後、必ず以下を実行してください:

1. WordPress管理画面 > 設定 > パーマリンク設定
2. 何も変更せず「変更を保存」ボタンをクリック
   （リライトルールを更新するため）

これを実行しないと、都道府県別ページが404エラーになります。

## 4. 動作確認

### トップページの確認

`https://yourdomain.com/` にアクセスして以下を確認:

- ヒーローセクションが表示される
- SEOコンテンツカードが4つ表示される
- 都道府県一覧が地域別に表示される

### 都道府県ページの確認

`https://yourdomain.com/prefecture/tokyo/` にアクセスして以下を確認:

- ページタイトルが「東京都の不倫募集掲示板」になっている
- 東京都の女性一覧が表示される（データがある場合）
- 都道府県別SEOコンテンツが4つ表示される
- 他の都道府県へのリンクが表示される

## 5. トラブルシューティング

### 都道府県ページが404エラーになる

**原因**: パーマリンク設定が更新されていない

**解決方法**:
1. 設定 > パーマリンク設定
2. 「変更を保存」をクリック

### 女性一覧が表示されない

**原因1**: `prefecture`カラムが追加されていない

**解決方法**: 上記のSQL文を実行してカラムを追加

**原因2**: データの`prefecture`値が正しくない

**解決方法**: 
- 都道府県名は「東京都」「大阪府」など正確に入力
- 全角文字で入力
- 前後にスペースが入っていないか確認

### デザインが崩れる

**原因**: CSSファイルが読み込まれていない

**解決方法**:
1. ブラウザのキャッシュをクリア
2. WordPress管理画面 > 外観 > カスタマイズ > 追加CSS で確認
3. 必要に応じて再アップロード

## 6. 推奨設定

### セキュリティ

- SSL証明書を導入（HTTPS化）
- セキュリティプラグインの導入
- 定期的なバックアップ

### パフォーマンス

- キャッシュプラグインの導入（WP Super Cache など）
- 画像の最適化
- CDNの利用

### SEO

- SEOプラグインの導入（Yoast SEO など）
- サイトマップの生成
- Google Search Consoleへの登録

## 7. カスタマイズのヒント

### カラーの変更

`style.css`の`:root`セクションを編集:

```css
:root {
  --color-primary: #8B4789;     /* お好みの色に変更 */
  --color-secondary: #C17B7B;   /* お好みの色に変更 */
  --color-accent: #D4AF37;      /* お好みの色に変更 */
}
```

### SEOコンテンツの編集

`page-prefecture.php`内の記事セクションを直接編集してください。

### 都道府県データの追加・変更

`inc/prefecture-data.php`の`hurin_get_prefectures()`関数を編集してください。
