# 【テンプレートV2】AI記事自動投稿WordPressサイト構築 指示書

---

## 依頼の概要

AIによる記事の自動生成・投稿機能を備えたWordPressサイトの構築をお願いします。

**最終目標**: 指定したスケジュールで、AIが自動的に**多様なキーワード**で高品質な記事を生成し、アイキャッチ画像付きでWordPressに投稿するシステムを完成させる。

---

## 1. サイト情報・認証情報

作業に必要な情報を以下に記載します。

| 項目 | 値 |
|---|---|
| **WordPressサイトURL** | `（例: https://example.com）` |
| **WordPress管理者ユーザー名** | `（例: admin）` |
| **WordPressアプリケーションパスワード** | `（ここにパスワードを記載）` |
| **FTPサーバーアドレス** | `（例: ftp.example.com）` |
| **FTPユーザー名** | `（例: user@example.com）` |
| **FTPパスワード** | `（ここにパスワードを記載）` |
| **OpenAI APIキー** | `（ここにAPIキーを記載）` |
| **GitHubリポジトリ** | `（例: your-username/your-repo）` |

---

## 2. 実装してほしい機能

### 機能1: キーワード管理システムの構築（最重要）

**記事の重複を防ぎ、多様なコンテンツを生成する**ため、以下のキーワード管理システムを実装してください。

- **キーワードプール方式**: `keywords.json` ファイルでキーワードを管理
  - **メインキーワード**: 10個以上（例: 「不倫募集掲示板」「セカンドパートナー探し」）
  - **サブキーワード**: 20個以上（例: 「40代」「安全性」「初心者」）
  - **記事タイプ**: 10種類以上（例: 「活用法」「体験談」「Q&A」）
- **自動キーワード選択**: 投稿のたびに、未使用のキーワード組み合わせを自動で選択
- **使用済みキーワード記録**: 使用した組み合わせを記録し、重複を完全に防ぐ
- **プロンプト自動生成**: 選択されたキーワードと記事タイプに応じて、AIへの指示（プロンプト）を自動生成

**`keywords.json` の例**:
```json
{
  "main_keywords": ["不倫募集掲示板", ...],
  "sub_keywords": ["40代", ...],
  "article_types": [
    {
      "type": "usage",
      "title_pattern": "{main_keyword}の賢い使い方｜{sub_keyword}向け完全ガイド"
    },
    ...
  ],
  "used_combinations": []
}
```

### 機能2: AIによる記事の自動生成

- **キーワード管理システム**と連携し、自動選択されたキーワードで記事を生成してください。
- **文字数**: 2500文字以上
- **出力形式**: SEOに最適化されたHTML形式
- **文体**: 人間味のある自然な文章

### 機能3: WordPressへの自動投稿

- 生成されたHTML記事をWordPressに自動投稿してください。
- **アイキャッチ画像**: フリー素材サイトから記事内容に合った画像を自動取得し、設定してください。
- **カテゴリー**: 記事の内容に合ったカテゴリーを自動で設定してください。

### 機能4: GitHub Actionsによる定時実行

- 以下のスケジュールで、記事の生成と投稿を自動実行するワークフローを作成してください。
- **スケジュール**: `（例: 毎日午前10時、毎週月曜午後3時など）`
- 手動での実行も可能なように `workflow_dispatch` を設定してください。

### 機能5: WordPressテーマの自動デプロイとカスタマイズ

- GitHubの`main`ブランチにプッシュされた際、本番サーバーに自動でデプロイされるようにしてください。
- ヘッダーに「ホーム」と「コラム」（ブログ記事一覧）へのナビゲーションメニューを追加してください。
- ブログ記事一覧ページ (`/blog/`) を作成し、アイキャッチ画像付きで記事が一覧表示されるようにしてください。

---

## 3. 作業の進め方

以下のステップで進めてください。

1.  **計画立案**: 全体の作業計画を立て、フェーズを明確にしてください。
2.  **キーワード管理システム構築**: まず、`keywords.json` とキーワード選択スクリプトを実装してください。
3.  **AI記事生成・投稿スクリプト開発**: キーワード管理システムと連携する形で、記事生成と投稿を行うスクリプトを作成してください。
4.  **自動デプロイ設定**: GitHub Actionsでの自動デプロイを確立してください。
5.  **自動投稿ワークフロー設定**: GitHub Actionsで定時実行ワークフローを構築してください。
6.  **テーマ開発**: WordPressテーマのカスタマイズを行ってください。
7.  **テスト**: すべての機能が正常に動作するか、テスト投稿を行って確認してください。
8.  **最終報告**: 完成した機能、作成したファイル、今後の運用方法についてまとめた最終報告書を提出してください。

---

## 4. その他

- 進捗状況は適宜報告してください。
- 不明点があれば、都度質問してください。

以上です。よろしくお願いします！
